"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3687],{3687:(L,c,n)=>{n.r(c),n.d(c,{LoginPageModule:()=>T});var v=n(6814),r=n(95),u=n(9810),g=n(1147),p=n(5861),o=n(9212),f=n(7973),h=n(4228);const Z=[{path:"",component:(()=>{var t;class i{constructor(e,a,s,d,m,b){this.authService=e,this.storage=a,this.route=s,this.formBuilder=d,this.toastController=m,this.loadCtrl=b}ngOnInit(){this.user=this.formBuilder.group({email:["",[r.kI.required,r.kI.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,3}$")]],password:["",r.kI.required]}),this.storage.getUserLogged()&&this.route.navigate(["/panel_control/mostrar"],{replaceUrl:!0})}presentToast(e,a,s){var d=this;return(0,p.Z)(function*(){yield(yield d.toastController.create({message:a,duration:1500,position:e,color:s})).present()})()}login(){var e=this;return(0,p.Z)(function*(){if(e.user.valid){const a=yield e.loadCtrl.create({message:"Iniciando sesi\xf3n..."});return a.present(),(yield e.authService.login(e.user.value)).subscribe({next:s=>{e.storage.setUserLoggedIn(!0,s.data),e.presentToast("bottom","Sesi\xf3n inicada, bienvenido!! \u{1f60e}","success"),e.route.navigate(["/panel_control/mostrar"],{replaceUrl:!0}),a.dismiss()},error:s=>{"Invalid credentials"==s.error.message?e.presentToast("bottom","Datos incorrectos, favor de verificar","danger"):(console.log(s),e.presentToast("bottom","Ha ocurrido un error, vuelva a intentarlo","danger")),a.dismiss()}}),!1}return e.presentToast("bottom","Favor de completar los campos","warning")})()}}return(t=i).\u0275fac=function(e){return new(e||t)(o.Y36(f.e),o.Y36(h.V),o.Y36(g.F0),o.Y36(r.qu),o.Y36(u.yF),o.Y36(u.HT))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:26,vars:1,consts:[[1,"hold-transition","login-page"],[1,"login-box"],[1,"login-logo"],["href","../../index2.html"],[1,"card"],[1,"card-body","login-card-body"],[1,"login-box-msg"],["method","post",3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],["type","email","placeholder","Correo electr\xf3nico","formControlName","email",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],[1,"fas","fa-envelope"],["type","password","placeholder","Contrase\xf1a","formControlName","password",1,"form-control"],[1,"fas","fa-lock"],[1,"row"],[1,"col-12"],["type","submit",1,"btn","btn-primary","btn-block"]],template:function(e,a){1&e&&(o.TgZ(0,"body",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"b"),o._uU(5,"GAS BUTANO ZACATECAS "),o.qZA(),o._uU(6,"S.A. DE C.V."),o.qZA()(),o.TgZ(7,"div",4)(8,"div",5)(9,"p",6),o._uU(10,"Ingresa tus credenciales para inicar sesi\xf3n"),o.qZA(),o.TgZ(11,"form",7),o.NdJ("ngSubmit",function(){return a.login()}),o.TgZ(12,"div",8),o._UZ(13,"input",9),o.TgZ(14,"div",10)(15,"div",11),o._UZ(16,"span",12),o.qZA()()(),o.TgZ(17,"div",8),o._UZ(18,"input",13),o.TgZ(19,"div",10)(20,"div",11),o._UZ(21,"span",14),o.qZA()()(),o.TgZ(22,"div",15)(23,"div",16)(24,"button",17),o._uU(25,"Inicar sesi\xf3n"),o.qZA()()()()()()()()),2&e&&(o.xp6(11),o.Q6J("formGroup",a.user))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),i})()}];let y=(()=>{var t;class i{}return(t=i).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[g.Bz.forChild(Z),g.Bz]}),i})(),T=(()=>{var t;class i{}return(t=i).\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[v.ez,r.u5,u.Pc,y,r.UX]}),i})()}}]);